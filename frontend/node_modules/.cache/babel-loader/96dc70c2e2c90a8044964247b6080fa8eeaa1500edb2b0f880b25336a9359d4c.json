{"ast":null,"code":"var _jsxFileName = \"D:\\\\SPRING-BOOT\\\\frontend\\\\src\\\\Pages\\\\ProductDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Navbar from \"../Components/Navbar\";\nimport Footer from \"../Components/Footer\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductDetail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [product, setProduct] = useState(null);\n  const [quantity, setQuantity] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const [orderLoading, setOrderLoading] = useState(false);\n  const [orderSuccess, setOrderSuccess] = useState(false);\n  useEffect(() => {\n    fetchProduct();\n    // eslint-disable-next-line\n  }, [id]);\n\n  // ✅ Fetch Single Product\n  const fetchProduct = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/user/product/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setProduct(response.data);\n    } catch (error) {\n      console.error(\"Error fetching product:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ✅ Razorpay Checkout Logic (WORKING WITH YOUR BACKEND)\n  const handleCheckout = async () => {\n    if (!product) return;\n    setOrderLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      const userId = localStorage.getItem(\"userId\");\n      const price = Number((product === null || product === void 0 ? void 0 : product.price) || 0);\n      const qty = Number(quantity || 1);\n      const total = price * qty;\n\n      // ✅ check before sending\n      console.log(\"✅ Price:\", price);\n      console.log(\"✅ Qty:\", qty);\n      console.log(\"✅ Total:\", total);\n      const orderDTO = {\n        userId: userId,\n        totalAmount: total,\n        items: [{\n          productId: Number(product.id),\n          // ✅ FIXED\n          productName: product.name,\n          // ✅ optional but your DTO has it\n          quantity: qty,\n          price: price // ✅ optional but your DTO has it\n        }]\n      };\n      console.log(\"✅ Sending orderDTO:\", orderDTO);\n      const orderRes = await axios.post(`${process.env.REACT_APP_API_URL}/api/place`, orderDTO, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const orderData = orderRes.data;\n      console.log(\"✅ Order Created:\", orderData);\n      if (!window.Razorpay) {\n        alert(\"❌ Razorpay SDK not loaded. Add script in public/index.html\");\n        return;\n      }\n      const options = {\n        key: \"rzp_test_lhLDr2VeITGMax\",\n        amount: orderData.totalAmount * 100,\n        currency: \"INR\",\n        name: \"Hunny Food Delivery\",\n        description: \"Food Order Payment\",\n        order_id: orderData.razorpayOrderId,\n        handler: async function (response) {\n          try {\n            const verifyDTO = {\n              orderId: orderData.id,\n              // ✅ IMPORTANT FIX\n              razorpayPaymentId: response.razorpay_payment_id,\n              razorpaySignature: response.razorpay_signature\n            };\n            const verifyRes = await axios.post(`${process.env.REACT_APP_API_URL}/api/verify`, verifyDTO, {\n              headers: {\n                Authorization: `Bearer ${token}`,\n                \"Content-Type\": \"application/json\"\n              }\n            });\n            console.log(\"✅ Payment verified:\", verifyRes.data);\n            alert(\"✅ Payment Successful & Verified!\");\n            setOrderSuccess(true);\n            setTimeout(() => navigate(\"/ecommerce\"), 1500);\n          } catch (err) {\n            console.error(\"❌ Payment Verification Failed:\", err);\n            alert(\"❌ Payment Done, But Verification Failed!\");\n          }\n        },\n        modal: {\n          ondismiss: function () {\n            alert(\"❌ Payment Cancelled!\");\n          }\n        },\n        theme: {\n          color: \"#667eea\"\n        }\n      };\n      new window.Razorpay(options).open();\n    } catch (error) {\n      console.error(\"❌ Error placing order:\", error);\n      alert(\"❌ Failed to place order. Please try again.\");\n    } finally {\n      setOrderLoading(false);\n    }\n  };\n\n  // ✅ Logout\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"role\");\n    navigate(\"/signin\");\n  };\n\n  // ✅ Loading UI\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-b from-[#f8fafc] to-[#f1f5f9]\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-[80vh] flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 border-4 border-[#667eea]/20 border-t-[#667eea] rounded-full animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ✅ Product Not Found UI\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-b from-[#f8fafc] to-[#f1f5f9]\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-[80vh] flex flex-col items-center justify-center gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"font-['Playfair_Display'] text-4xl text-[#1a1a2e]\",\n          children: \"Product not found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/ecommerce\"),\n          className: \"px-8 py-3.5 bg-gradient-to-r from-[#667eea] to-[#764ba2] text-white rounded-xl text-base font-semibold transition-all duration-300 hover:-translate-y-0.5 hover:shadow-[0_6px_20px_rgba(102,126,234,0.4)]\",\n          children: \"Back to Shop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ✅ Main UI (Unchanged)\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-b from-[#f8fafc] to-[#f1f5f9]\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-[1400px] mx-auto px-6 py-16 pb-24\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/ecommerce\"),\n        className: \"inline-flex items-center gap-2 px-6 py-3 bg-white text-[#1e293b] border-2 border-[#e2e8f0] rounded-xl text-sm font-semibold transition-all duration-300 hover:border-[#667eea] hover:text-[#667eea] hover:-translate-x-1 mb-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4.5 h-4.5\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          children: [/*#__PURE__*/_jsxDEV(\"line\", {\n            x1: \"19\",\n            y1: \"12\",\n            x2: \"5\",\n            y2: \"12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n            points: \"12 19 5 12 12 5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), \"Back to Shop\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-20 items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-24 w-full h-[600px] bg-white rounded-[32px] overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.1)]\",\n          children: product.imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.imageUrl,\n            alt: product.name,\n            className: \"w-full h-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#667eea]/5 to-[#764ba2]/5\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-32 h-32 stroke-[#cbd5e1] stroke-2\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                x: \"3\",\n                y: \"3\",\n                width: \"18\",\n                height: \"18\",\n                rx: \"2\",\n                ry: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                cx: \"8.5\",\n                cy: \"8.5\",\n                r: \"1.5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                points: \"21 15 16 10 5 21\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white px-12 py-12 rounded-[32px] shadow-[0_10px_40px_rgba(0,0,0,0.08)]\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between gap-5 mb-8 pb-8 border-b-2 border-[#f1f5f9]\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"flex-1 font-['Playfair_Display'] text-5xl font-black text-[#1a1a2e] leading-tight tracking-tight\",\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-baseline gap-3 mb-10\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-semibold text-[#64748b] uppercase tracking-widest\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-['Playfair_Display'] text-[56px] font-black text-[#667eea]\",\n              children: [\"\\u20B9\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-10\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-[#1e293b] mb-4 tracking-tight\",\n              children: \"Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4 bg-[#f8fafc] p-2 rounded-2xl w-fit\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setQuantity(Math.max(1, quantity - 1)),\n                disabled: quantity <= 1,\n                className: \"w-12 h-12 rounded-xl bg-white text-[#1e293b] flex items-center justify-center transition-all duration-300 shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:bg-[#667eea] hover:text-white hover:scale-105 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:text-[#1e293b] disabled:hover:scale-100\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-5 h-5\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"5\",\n                    y1: \"12\",\n                    x2: \"19\",\n                    y2: \"12\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-bold text-[#1e293b] min-w-[60px] text-center\",\n                children: quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setQuantity(quantity + 1),\n                className: \"w-12 h-12 rounded-xl bg-white text-[#1e293b] flex items-center justify-center transition-all duration-300 shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:bg-[#667eea] hover:text-white hover:scale-105\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-5 h-5\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"12\",\n                    y1: \"5\",\n                    x2: \"12\",\n                    y2: \"19\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"5\",\n                    y1: \"12\",\n                    x2: \"19\",\n                    y2: \"12\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between p-6 bg-gradient-to-r from-[#667eea]/5 to-[#764ba2]/5 rounded-2xl mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-base font-semibold text-[#64748b] uppercase tracking-wider\",\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-['Playfair_Display'] text-[42px] font-black text-[#667eea]\",\n              children: [\"\\u20B9\", (product.price * quantity).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCheckout,\n            disabled: orderLoading || orderSuccess,\n            className: \"w-full px-4 py-5 bg-gradient-to-r from-[#667eea] to-[#764ba2] text-white rounded-2xl text-lg font-bold flex items-center justify-center gap-3 transition-all duration-300 shadow-[0_8px_30px_rgba(102,126,234,0.4)] hover:-translate-y-1 hover:shadow-[0_12px_40px_rgba(102,126,234,0.5)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none tracking-wide\",\n            children: orderLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-block w-6 h-6 border-3 border-white/30 border-t-white rounded-full animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this), \"Processing...\"]\n            }, void 0, true) : orderSuccess ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-6 h-6\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: /*#__PURE__*/_jsxDEV(\"polyline\", {\n                  points: \"20 6 9 17 4 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this), \"Order Placed!\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-6 h-6\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"9\",\n                  cy: \"21\",\n                  r: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"20\",\n                  cy: \"21\",\n                  r: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 19\n              }, this), \"Pay with Razorpay\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetail, \"7j9uN9yMcGhOKyOKx5ahxiW3/yA=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ProductDetail;\nexport default ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","Navbar","Footer","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductDetail","_s","id","navigate","product","setProduct","quantity","setQuantity","loading","setLoading","orderLoading","setOrderLoading","orderSuccess","setOrderSuccess","fetchProduct","token","localStorage","getItem","response","get","process","env","REACT_APP_API_URL","headers","Authorization","data","error","console","handleCheckout","userId","price","Number","qty","total","log","orderDTO","totalAmount","items","productId","productName","name","orderRes","post","orderData","window","Razorpay","alert","options","key","amount","currency","description","order_id","razorpayOrderId","handler","verifyDTO","orderId","razorpayPaymentId","razorpay_payment_id","razorpaySignature","razorpay_signature","verifyRes","setTimeout","err","modal","ondismiss","theme","color","open","handleLogout","removeItem","className","children","onLogout","fileName","_jsxFileName","lineNumber","columnNumber","onClick","viewBox","fill","stroke","strokeWidth","x1","y1","x2","y2","points","imageUrl","src","alt","x","y","width","height","rx","ry","cx","cy","r","Math","max","disabled","toFixed","d","_c","$RefreshReg$"],"sources":["D:/SPRING-BOOT/frontend/src/Pages/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Navbar from \"../Components/Navbar\";\r\nimport Footer from \"../Components/Footer\";\r\n\r\nconst ProductDetail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [product, setProduct] = useState(null);\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [orderLoading, setOrderLoading] = useState(false);\r\n  const [orderSuccess, setOrderSuccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchProduct();\r\n    // eslint-disable-next-line\r\n  }, [id]);\r\n\r\n  // ✅ Fetch Single Product\r\n  const fetchProduct = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n\r\n      const response = await axios.get(\r\n        `${process.env.REACT_APP_API_URL}/api/user/product/${id}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setProduct(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching product:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // ✅ Razorpay Checkout Logic (WORKING WITH YOUR BACKEND)\r\nconst handleCheckout = async () => {\r\n  if (!product) return;\r\n\r\n  setOrderLoading(true);\r\n\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n  const userId = localStorage.getItem(\"userId\");\r\n\r\n    const price = Number(product?.price || 0);\r\n    const qty = Number(quantity || 1);\r\n    const total = price * qty;\r\n\r\n    // ✅ check before sending\r\n    console.log(\"✅ Price:\", price);\r\n    console.log(\"✅ Qty:\", qty);\r\n    console.log(\"✅ Total:\", total);\r\n  \r\n    const orderDTO = {\r\n      userId: userId,\r\n      totalAmount: total,\r\n      items: [\r\n        {\r\n          productId: Number(product.id),  // ✅ FIXED\r\n          productName: product.name,      // ✅ optional but your DTO has it\r\n          quantity: qty,\r\n          price: price                    // ✅ optional but your DTO has it\r\n        },\r\n      ],\r\n    };\r\n\r\n    console.log(\"✅ Sending orderDTO:\", orderDTO);\r\n\r\n    const orderRes = await axios.post(\r\n      `${process.env.REACT_APP_API_URL}/api/place`,\r\n      orderDTO,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n\r\n    const orderData = orderRes.data;\r\n    console.log(\"✅ Order Created:\", orderData);\r\n\r\n    if (!window.Razorpay) {\r\n      alert(\"❌ Razorpay SDK not loaded. Add script in public/index.html\");\r\n      return;\r\n    }\r\n\r\n    const options = {\r\n      key: \"rzp_test_lhLDr2VeITGMax\",\r\n      amount: orderData.totalAmount * 100,\r\n      currency: \"INR\",\r\n      name: \"Hunny Food Delivery\",\r\n      description: \"Food Order Payment\",\r\n      order_id: orderData.razorpayOrderId,\r\n    handler: async function (response) {\r\n  try {\r\n    const verifyDTO = {\r\n      orderId: orderData.id,  // ✅ IMPORTANT FIX\r\n      razorpayPaymentId: response.razorpay_payment_id,\r\n      razorpaySignature: response.razorpay_signature,\r\n    };\r\n\r\n    const verifyRes = await axios.post(\r\n     `${process.env.REACT_APP_API_URL}/api/verify`,\r\n      verifyDTO,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n\r\n    console.log(\"✅ Payment verified:\", verifyRes.data);\r\n    alert(\"✅ Payment Successful & Verified!\");\r\n    setOrderSuccess(true);\r\n\r\n    setTimeout(() => navigate(\"/ecommerce\"), 1500);\r\n  } catch (err) {\r\n    console.error(\"❌ Payment Verification Failed:\", err);\r\n    alert(\"❌ Payment Done, But Verification Failed!\");\r\n  }\r\n},\r\n      modal: {\r\n        ondismiss: function () {\r\n          alert(\"❌ Payment Cancelled!\");\r\n        },\r\n      },\r\n      theme: { color: \"#667eea\" },\r\n    };\r\n\r\n    new window.Razorpay(options).open();\r\n  } catch (error) {\r\n    console.error(\"❌ Error placing order:\", error);\r\n    alert(\"❌ Failed to place order. Please try again.\");\r\n  } finally {\r\n    setOrderLoading(false);\r\n  }\r\n};\r\n\r\n  // ✅ Logout\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"role\");\r\n    navigate(\"/signin\");\r\n  };\r\n\r\n  // ✅ Loading UI\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-b from-[#f8fafc] to-[#f1f5f9]\">\r\n        <Navbar onLogout={handleLogout} />\r\n        <div className=\"min-h-[80vh] flex items-center justify-center\">\r\n          <div className=\"w-16 h-16 border-4 border-[#667eea]/20 border-t-[#667eea] rounded-full animate-spin\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ✅ Product Not Found UI\r\n  if (!product) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-b from-[#f8fafc] to-[#f1f5f9]\">\r\n        <Navbar onLogout={handleLogout} />\r\n        <div className=\"min-h-[80vh] flex flex-col items-center justify-center gap-6\">\r\n          <h2 className=\"font-['Playfair_Display'] text-4xl text-[#1a1a2e]\">\r\n            Product not found\r\n          </h2>\r\n          <button\r\n            onClick={() => navigate(\"/ecommerce\")}\r\n            className=\"px-8 py-3.5 bg-gradient-to-r from-[#667eea] to-[#764ba2] text-white rounded-xl text-base font-semibold transition-all duration-300 hover:-translate-y-0.5 hover:shadow-[0_6px_20px_rgba(102,126,234,0.4)]\"\r\n          >\r\n            Back to Shop\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ✅ Main UI (Unchanged)\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-[#f8fafc] to-[#f1f5f9]\">\r\n      <Navbar onLogout={handleLogout} />\r\n\r\n      <div className=\"max-w-[1400px] mx-auto px-6 py-16 pb-24\">\r\n        {/* Back Button */}\r\n        <button\r\n          onClick={() => navigate(\"/ecommerce\")}\r\n          className=\"inline-flex items-center gap-2 px-6 py-3 bg-white text-[#1e293b] border-2 border-[#e2e8f0] rounded-xl text-sm font-semibold transition-all duration-300 hover:border-[#667eea] hover:text-[#667eea] hover:-translate-x-1 mb-10\"\r\n        >\r\n          <svg\r\n            className=\"w-4.5 h-4.5\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n          >\r\n            <line x1=\"19\" y1=\"12\" x2=\"5\" y2=\"12\" />\r\n            <polyline points=\"12 19 5 12 12 5\" />\r\n          </svg>\r\n          Back to Shop\r\n        </button>\r\n\r\n        {/* Product Detail Grid */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-20 items-start\">\r\n          {/* Product Image */}\r\n          <div className=\"sticky top-24 w-full h-[600px] bg-white rounded-[32px] overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.1)]\">\r\n            {product.imageUrl ? (\r\n              <img\r\n                src={product.imageUrl}\r\n                alt={product.name}\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            ) : (\r\n              <div className=\"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#667eea]/5 to-[#764ba2]/5\">\r\n                <svg\r\n                  className=\"w-32 h-32 stroke-[#cbd5e1] stroke-2\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                >\r\n                  <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\r\n                  <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" />\r\n                  <polyline points=\"21 15 16 10 5 21\" />\r\n                </svg>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Product Info */}\r\n          <div className=\"bg-white px-12 py-12 rounded-[32px] shadow-[0_10px_40px_rgba(0,0,0,0.08)]\">\r\n            {/* Header */}\r\n            <div className=\"flex items-start justify-between gap-5 mb-8 pb-8 border-b-2 border-[#f1f5f9]\">\r\n              <h1 className=\"flex-1 font-['Playfair_Display'] text-5xl font-black text-[#1a1a2e] leading-tight tracking-tight\">\r\n                {product.name}\r\n              </h1>\r\n            </div>\r\n\r\n            {/* Price */}\r\n            <div className=\"flex items-baseline gap-3 mb-10\">\r\n              <span className=\"text-sm font-semibold text-[#64748b] uppercase tracking-widest\">\r\n                Price\r\n              </span>\r\n              <span className=\"font-['Playfair_Display'] text-[56px] font-black text-[#667eea]\">\r\n                ₹{product.price}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Quantity */}\r\n            <div className=\"mb-10\">\r\n              <h3 className=\"text-xl font-bold text-[#1e293b] mb-4 tracking-tight\">\r\n                Quantity\r\n              </h3>\r\n              <div className=\"flex items-center gap-4 bg-[#f8fafc] p-2 rounded-2xl w-fit\">\r\n                <button\r\n                  onClick={() => setQuantity(Math.max(1, quantity - 1))}\r\n                  disabled={quantity <= 1}\r\n                  className=\"w-12 h-12 rounded-xl bg-white text-[#1e293b] flex items-center justify-center transition-all duration-300 shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:bg-[#667eea] hover:text-white hover:scale-105 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:text-[#1e293b] disabled:hover:scale-100\"\r\n                >\r\n                  <svg\r\n                    className=\"w-5 h-5\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                  >\r\n                    <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\r\n                  </svg>\r\n                </button>\r\n                <span className=\"text-xl font-bold text-[#1e293b] min-w-[60px] text-center\">\r\n                  {quantity}\r\n                </span>\r\n                <button\r\n                  onClick={() => setQuantity(quantity + 1)}\r\n                  className=\"w-12 h-12 rounded-xl bg-white text-[#1e293b] flex items-center justify-center transition-all duration-300 shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:bg-[#667eea] hover:text-white hover:scale-105\"\r\n                >\r\n                  <svg\r\n                    className=\"w-5 h-5\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                  >\r\n                    <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" />\r\n                    <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Total */}\r\n            <div className=\"flex items-center justify-between p-6 bg-gradient-to-r from-[#667eea]/5 to-[#764ba2]/5 rounded-2xl mb-8\">\r\n              <span className=\"text-base font-semibold text-[#64748b] uppercase tracking-wider\">\r\n                Total\r\n              </span>\r\n              <span className=\"font-['Playfair_Display'] text-[42px] font-black text-[#667eea]\">\r\n                ₹{(product.price * quantity).toFixed(2)}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Checkout Button */}\r\n            <button\r\n              onClick={handleCheckout}\r\n              disabled={orderLoading || orderSuccess}\r\n              className=\"w-full px-4 py-5 bg-gradient-to-r from-[#667eea] to-[#764ba2] text-white rounded-2xl text-lg font-bold flex items-center justify-center gap-3 transition-all duration-300 shadow-[0_8px_30px_rgba(102,126,234,0.4)] hover:-translate-y-1 hover:shadow-[0_12px_40px_rgba(102,126,234,0.5)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none tracking-wide\"\r\n            >\r\n              {orderLoading ? (\r\n                <>\r\n                  <span className=\"inline-block w-6 h-6 border-3 border-white/30 border-t-white rounded-full animate-spin\"></span>\r\n                  Processing...\r\n                </>\r\n              ) : orderSuccess ? (\r\n                <>\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                  >\r\n                    <polyline points=\"20 6 9 17 4 12\" />\r\n                  </svg>\r\n                  Order Placed!\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                  >\r\n                    <circle cx=\"9\" cy=\"21\" r=\"1\" />\r\n                    <circle cx=\"20\" cy=\"21\" r=\"1\" />\r\n                    <path d=\"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6\" />\r\n                  </svg>\r\n                  Pay with Razorpay\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}