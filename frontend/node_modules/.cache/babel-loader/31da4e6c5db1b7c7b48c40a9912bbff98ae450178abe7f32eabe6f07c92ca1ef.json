{"ast":null,"code":"var _jsxFileName = \"D:\\\\SPRING-BOOT\\\\frontend\\\\src\\\\Pages\\\\ProductDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Navbar from \"../Components/Navbar\";\nimport Footer from \"../Components/Footer\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductDetail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [product, setProduct] = useState(null);\n  const [quantity, setQuantity] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const [orderLoading, setOrderLoading] = useState(false);\n  const [orderSuccess, setOrderSuccess] = useState(false);\n  useEffect(() => {\n    fetchProduct();\n    // eslint-disable-next-line\n  }, [id]);\n\n  // ✅ Fetch Single Product\n  const fetchProduct = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.get(`http://localhost:8080/api/user/product/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setProduct(response.data);\n    } catch (error) {\n      console.error(\"Error fetching product:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ✅ Razorpay Checkout Logic (WORKING WITH YOUR BACKEND)\n  const handleCheckout = async () => {\n    if (!product) return;\n    setOrderLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      const price = Number((product === null || product === void 0 ? void 0 : product.price) || 0);\n      const qty = Number(quantity || 1);\n      const total = price * qty;\n\n      // ✅ check before sending\n      console.log(\"✅ Price:\", price);\n      console.log(\"✅ Qty:\", qty);\n      console.log(\"✅ Total:\", total);\n      const orderDTO = {\n        userId: 1,\n        totalAmount: total,\n        items: [{\n          productId: Number(product.id),\n          // ✅ FIXED\n          productName: product.name,\n          // ✅ optional but your DTO has it\n          quantity: qty,\n          price: price // ✅ optional but your DTO has it\n        }]\n      };\n      console.log(\"✅ Sending orderDTO:\", orderDTO);\n      const orderRes = await axios.post(\"http://localhost:8080/api/place\", orderDTO, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const orderData = orderRes.data;\n      console.log(\"✅ Order Created:\", orderData);\n      if (!window.Razorpay) {\n        alert(\"❌ Razorpay SDK not loaded. Add script in public/index.html\");\n        return;\n      }\n      const options = {\n        key: \"rzp_test_lhLDr2VeITGMax\",\n        amount: orderData.totalAmount * 100,\n        currency: \"INR\",\n        name: \"Hunny Food Delivery\",\n        description: \"Food Order Payment\",\n        order_id: orderData.razorpayOrderId,\n        handler: async function (response) {\n          try {\n            const verifyDTO = {\n              orderId: orderData.id,\n              // ✅ REQUIRED\n              razorpayPaymentId: response.razorpay_payment_id,\n              razorpaySignature: response.razorpay_signature\n            };\n            await axios.post(\"http://localhost:8080/api/verify\", verifyDTO, {\n              headers: {\n                Authorization: `Bearer ${token}`,\n                \"Content-Type\": \"application/json\"\n              }\n            });\n            alert(\"✅ Payment Successful & Verified!\");\n            setOrderSuccess(true);\n            setTimeout(() => {\n              navigate(\"/ecommerce\");\n            }, 1500);\n          } catch (err) {\n            console.error(\"❌ Payment Verification Failed:\", err);\n            alert(\"❌ Payment Done, But Verification Failed!\");\n          }\n        },\n        modal: {\n          ondismiss: function () {\n            alert(\"❌ Payment Cancelled!\");\n          }\n        },\n        theme: {\n          color: \"#667eea\"\n        }\n      };\n      new window.Razorpay(options).open();\n    } catch (error) {\n      console.error(\"❌ Error placing order:\", error);\n      alert(\"❌ Failed to place order. Please try again.\");\n    } finally {\n      setOrderLoading(false);\n    }\n  };\n\n  // ✅ Logout\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"role\");\n    navigate(\"/signin\");\n  };\n\n  // ✅ Loading UI\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-b from-[#f8fafc] to-[#f1f5f9]\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-[80vh] flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 border-4 border-[#667eea]/20 border-t-[#667eea] rounded-full animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ✅ Product Not Found UI\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-b from-[#f8fafc] to-[#f1f5f9]\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-[80vh] flex flex-col items-center justify-center gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"font-['Playfair_Display'] text-4xl text-[#1a1a2e]\",\n          children: \"Product not found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/ecommerce\"),\n          className: \"px-8 py-3.5 bg-gradient-to-r from-[#667eea] to-[#764ba2] text-white rounded-xl text-base font-semibold transition-all duration-300 hover:-translate-y-0.5 hover:shadow-[0_6px_20px_rgba(102,126,234,0.4)]\",\n          children: \"Back to Shop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ✅ Main UI (Unchanged)\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-b from-[#f8fafc] to-[#f1f5f9]\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-[1400px] mx-auto px-6 py-16 pb-24\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/ecommerce\"),\n        className: \"inline-flex items-center gap-2 px-6 py-3 bg-white text-[#1e293b] border-2 border-[#e2e8f0] rounded-xl text-sm font-semibold transition-all duration-300 hover:border-[#667eea] hover:text-[#667eea] hover:-translate-x-1 mb-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4.5 h-4.5\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          children: [/*#__PURE__*/_jsxDEV(\"line\", {\n            x1: \"19\",\n            y1: \"12\",\n            x2: \"5\",\n            y2: \"12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n            points: \"12 19 5 12 12 5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), \"Back to Shop\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-20 items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sticky top-24 w-full h-[600px] bg-white rounded-[32px] overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.1)]\",\n          children: product.imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.imageUrl,\n            alt: product.name,\n            className: \"w-full h-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#667eea]/5 to-[#764ba2]/5\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-32 h-32 stroke-[#cbd5e1] stroke-2\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                x: \"3\",\n                y: \"3\",\n                width: \"18\",\n                height: \"18\",\n                rx: \"2\",\n                ry: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                cx: \"8.5\",\n                cy: \"8.5\",\n                r: \"1.5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n                points: \"21 15 16 10 5 21\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white px-12 py-12 rounded-[32px] shadow-[0_10px_40px_rgba(0,0,0,0.08)]\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between gap-5 mb-8 pb-8 border-b-2 border-[#f1f5f9]\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"flex-1 font-['Playfair_Display'] text-5xl font-black text-[#1a1a2e] leading-tight tracking-tight\",\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-baseline gap-3 mb-10\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-semibold text-[#64748b] uppercase tracking-widest\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-['Playfair_Display'] text-[56px] font-black text-[#667eea]\",\n              children: [\"\\u20B9\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-10\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-[#1e293b] mb-4 tracking-tight\",\n              children: \"Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4 bg-[#f8fafc] p-2 rounded-2xl w-fit\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setQuantity(Math.max(1, quantity - 1)),\n                disabled: quantity <= 1,\n                className: \"w-12 h-12 rounded-xl bg-white text-[#1e293b] flex items-center justify-center transition-all duration-300 shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:bg-[#667eea] hover:text-white hover:scale-105 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:text-[#1e293b] disabled:hover:scale-100\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-5 h-5\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"5\",\n                    y1: \"12\",\n                    x2: \"19\",\n                    y2: \"12\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-bold text-[#1e293b] min-w-[60px] text-center\",\n                children: quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setQuantity(quantity + 1),\n                className: \"w-12 h-12 rounded-xl bg-white text-[#1e293b] flex items-center justify-center transition-all duration-300 shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:bg-[#667eea] hover:text-white hover:scale-105\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-5 h-5\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"12\",\n                    y1: \"5\",\n                    x2: \"12\",\n                    y2: \"19\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: \"5\",\n                    y1: \"12\",\n                    x2: \"19\",\n                    y2: \"12\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between p-6 bg-gradient-to-r from-[#667eea]/5 to-[#764ba2]/5 rounded-2xl mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-base font-semibold text-[#64748b] uppercase tracking-wider\",\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-['Playfair_Display'] text-[42px] font-black text-[#667eea]\",\n              children: [\"\\u20B9\", (product.price * quantity).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCheckout,\n            disabled: orderLoading || orderSuccess,\n            className: \"w-full px-4 py-5 bg-gradient-to-r from-[#667eea] to-[#764ba2] text-white rounded-2xl text-lg font-bold flex items-center justify-center gap-3 transition-all duration-300 shadow-[0_8px_30px_rgba(102,126,234,0.4)] hover:-translate-y-1 hover:shadow-[0_12px_40px_rgba(102,126,234,0.5)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none tracking-wide\",\n            children: orderLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-block w-6 h-6 border-3 border-white/30 border-t-white rounded-full animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this), \"Processing...\"]\n            }, void 0, true) : orderSuccess ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-6 h-6\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: /*#__PURE__*/_jsxDEV(\"polyline\", {\n                  points: \"20 6 9 17 4 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 19\n              }, this), \"Order Placed!\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-6 h-6\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"9\",\n                  cy: \"21\",\n                  r: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"20\",\n                  cy: \"21\",\n                  r: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this), \"Pay with Razorpay\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetail, \"7j9uN9yMcGhOKyOKx5ahxiW3/yA=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ProductDetail;\nexport default ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","Navbar","Footer","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductDetail","_s","id","navigate","product","setProduct","quantity","setQuantity","loading","setLoading","orderLoading","setOrderLoading","orderSuccess","setOrderSuccess","fetchProduct","token","localStorage","getItem","response","get","headers","Authorization","data","error","console","handleCheckout","price","Number","qty","total","log","orderDTO","userId","totalAmount","items","productId","productName","name","orderRes","post","orderData","window","Razorpay","alert","options","key","amount","currency","description","order_id","razorpayOrderId","handler","verifyDTO","orderId","razorpayPaymentId","razorpay_payment_id","razorpaySignature","razorpay_signature","setTimeout","err","modal","ondismiss","theme","color","open","handleLogout","removeItem","className","children","onLogout","fileName","_jsxFileName","lineNumber","columnNumber","onClick","viewBox","fill","stroke","strokeWidth","x1","y1","x2","y2","points","imageUrl","src","alt","x","y","width","height","rx","ry","cx","cy","r","Math","max","disabled","toFixed","d","_c","$RefreshReg$"],"sources":["D:/SPRING-BOOT/frontend/src/Pages/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Navbar from \"../Components/Navbar\";\r\nimport Footer from \"../Components/Footer\";\r\n\r\nconst ProductDetail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [product, setProduct] = useState(null);\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [orderLoading, setOrderLoading] = useState(false);\r\n  const [orderSuccess, setOrderSuccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchProduct();\r\n    // eslint-disable-next-line\r\n  }, [id]);\r\n\r\n  // ✅ Fetch Single Product\r\n  const fetchProduct = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n\r\n      const response = await axios.get(\r\n        `http://localhost:8080/api/user/product/${id}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setProduct(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching product:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // ✅ Razorpay Checkout Logic (WORKING WITH YOUR BACKEND)\r\nconst handleCheckout = async () => {\r\n  if (!product) return;\r\n\r\n  setOrderLoading(true);\r\n\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    const price = Number(product?.price || 0);\r\n    const qty = Number(quantity || 1);\r\n    const total = price * qty;\r\n\r\n    // ✅ check before sending\r\n    console.log(\"✅ Price:\", price);\r\n    console.log(\"✅ Qty:\", qty);\r\n    console.log(\"✅ Total:\", total);\r\n\r\n    const orderDTO = {\r\n      userId: 1,\r\n      totalAmount: total,\r\n      items: [\r\n        {\r\n          productId: Number(product.id),  // ✅ FIXED\r\n          productName: product.name,      // ✅ optional but your DTO has it\r\n          quantity: qty,\r\n          price: price                    // ✅ optional but your DTO has it\r\n        },\r\n      ],\r\n    };\r\n\r\n    console.log(\"✅ Sending orderDTO:\", orderDTO);\r\n\r\n    const orderRes = await axios.post(\r\n      \"http://localhost:8080/api/place\",\r\n      orderDTO,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n\r\n    const orderData = orderRes.data;\r\n    console.log(\"✅ Order Created:\", orderData);\r\n\r\n    if (!window.Razorpay) {\r\n      alert(\"❌ Razorpay SDK not loaded. Add script in public/index.html\");\r\n      return;\r\n    }\r\n\r\n    const options = {\r\n      key: \"rzp_test_lhLDr2VeITGMax\",\r\n      amount: orderData.totalAmount * 100,\r\n      currency: \"INR\",\r\n      name: \"Hunny Food Delivery\",\r\n      description: \"Food Order Payment\",\r\n      order_id: orderData.razorpayOrderId,\r\n      handler: async function (response) {\r\n        try {\r\n          const verifyDTO = {\r\n  orderId: orderData.id,  // ✅ REQUIRED\r\n  razorpayPaymentId: response.razorpay_payment_id,\r\n  razorpaySignature: response.razorpay_signature,\r\n};\r\n\r\n          await axios.post(\"http://localhost:8080/api/verify\", verifyDTO, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          });\r\n\r\n          alert(\"✅ Payment Successful & Verified!\");\r\n          setOrderSuccess(true);\r\n\r\n          setTimeout(() => {\r\n            navigate(\"/ecommerce\");\r\n          }, 1500);\r\n        } catch (err) {\r\n          console.error(\"❌ Payment Verification Failed:\", err);\r\n          alert(\"❌ Payment Done, But Verification Failed!\");\r\n        }\r\n      },\r\n      modal: {\r\n        ondismiss: function () {\r\n          alert(\"❌ Payment Cancelled!\");\r\n        },\r\n      },\r\n      theme: { color: \"#667eea\" },\r\n    };\r\n\r\n    new window.Razorpay(options).open();\r\n  } catch (error) {\r\n    console.error(\"❌ Error placing order:\", error);\r\n    alert(\"❌ Failed to place order. Please try again.\");\r\n  } finally {\r\n    setOrderLoading(false);\r\n  }\r\n};\r\n\r\n  // ✅ Logout\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"role\");\r\n    navigate(\"/signin\");\r\n  };\r\n\r\n  // ✅ Loading UI\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-b from-[#f8fafc] to-[#f1f5f9]\">\r\n        <Navbar onLogout={handleLogout} />\r\n        <div className=\"min-h-[80vh] flex items-center justify-center\">\r\n          <div className=\"w-16 h-16 border-4 border-[#667eea]/20 border-t-[#667eea] rounded-full animate-spin\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ✅ Product Not Found UI\r\n  if (!product) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-b from-[#f8fafc] to-[#f1f5f9]\">\r\n        <Navbar onLogout={handleLogout} />\r\n        <div className=\"min-h-[80vh] flex flex-col items-center justify-center gap-6\">\r\n          <h2 className=\"font-['Playfair_Display'] text-4xl text-[#1a1a2e]\">\r\n            Product not found\r\n          </h2>\r\n          <button\r\n            onClick={() => navigate(\"/ecommerce\")}\r\n            className=\"px-8 py-3.5 bg-gradient-to-r from-[#667eea] to-[#764ba2] text-white rounded-xl text-base font-semibold transition-all duration-300 hover:-translate-y-0.5 hover:shadow-[0_6px_20px_rgba(102,126,234,0.4)]\"\r\n          >\r\n            Back to Shop\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ✅ Main UI (Unchanged)\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-[#f8fafc] to-[#f1f5f9]\">\r\n      <Navbar onLogout={handleLogout} />\r\n\r\n      <div className=\"max-w-[1400px] mx-auto px-6 py-16 pb-24\">\r\n        {/* Back Button */}\r\n        <button\r\n          onClick={() => navigate(\"/ecommerce\")}\r\n          className=\"inline-flex items-center gap-2 px-6 py-3 bg-white text-[#1e293b] border-2 border-[#e2e8f0] rounded-xl text-sm font-semibold transition-all duration-300 hover:border-[#667eea] hover:text-[#667eea] hover:-translate-x-1 mb-10\"\r\n        >\r\n          <svg\r\n            className=\"w-4.5 h-4.5\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n          >\r\n            <line x1=\"19\" y1=\"12\" x2=\"5\" y2=\"12\" />\r\n            <polyline points=\"12 19 5 12 12 5\" />\r\n          </svg>\r\n          Back to Shop\r\n        </button>\r\n\r\n        {/* Product Detail Grid */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-20 items-start\">\r\n          {/* Product Image */}\r\n          <div className=\"sticky top-24 w-full h-[600px] bg-white rounded-[32px] overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.1)]\">\r\n            {product.imageUrl ? (\r\n              <img\r\n                src={product.imageUrl}\r\n                alt={product.name}\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            ) : (\r\n              <div className=\"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#667eea]/5 to-[#764ba2]/5\">\r\n                <svg\r\n                  className=\"w-32 h-32 stroke-[#cbd5e1] stroke-2\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                >\r\n                  <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\r\n                  <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" />\r\n                  <polyline points=\"21 15 16 10 5 21\" />\r\n                </svg>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Product Info */}\r\n          <div className=\"bg-white px-12 py-12 rounded-[32px] shadow-[0_10px_40px_rgba(0,0,0,0.08)]\">\r\n            {/* Header */}\r\n            <div className=\"flex items-start justify-between gap-5 mb-8 pb-8 border-b-2 border-[#f1f5f9]\">\r\n              <h1 className=\"flex-1 font-['Playfair_Display'] text-5xl font-black text-[#1a1a2e] leading-tight tracking-tight\">\r\n                {product.name}\r\n              </h1>\r\n            </div>\r\n\r\n            {/* Price */}\r\n            <div className=\"flex items-baseline gap-3 mb-10\">\r\n              <span className=\"text-sm font-semibold text-[#64748b] uppercase tracking-widest\">\r\n                Price\r\n              </span>\r\n              <span className=\"font-['Playfair_Display'] text-[56px] font-black text-[#667eea]\">\r\n                ₹{product.price}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Quantity */}\r\n            <div className=\"mb-10\">\r\n              <h3 className=\"text-xl font-bold text-[#1e293b] mb-4 tracking-tight\">\r\n                Quantity\r\n              </h3>\r\n              <div className=\"flex items-center gap-4 bg-[#f8fafc] p-2 rounded-2xl w-fit\">\r\n                <button\r\n                  onClick={() => setQuantity(Math.max(1, quantity - 1))}\r\n                  disabled={quantity <= 1}\r\n                  className=\"w-12 h-12 rounded-xl bg-white text-[#1e293b] flex items-center justify-center transition-all duration-300 shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:bg-[#667eea] hover:text-white hover:scale-105 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:text-[#1e293b] disabled:hover:scale-100\"\r\n                >\r\n                  <svg\r\n                    className=\"w-5 h-5\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                  >\r\n                    <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\r\n                  </svg>\r\n                </button>\r\n                <span className=\"text-xl font-bold text-[#1e293b] min-w-[60px] text-center\">\r\n                  {quantity}\r\n                </span>\r\n                <button\r\n                  onClick={() => setQuantity(quantity + 1)}\r\n                  className=\"w-12 h-12 rounded-xl bg-white text-[#1e293b] flex items-center justify-center transition-all duration-300 shadow-[0_2px_8px_rgba(0,0,0,0.05)] hover:bg-[#667eea] hover:text-white hover:scale-105\"\r\n                >\r\n                  <svg\r\n                    className=\"w-5 h-5\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                  >\r\n                    <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" />\r\n                    <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Total */}\r\n            <div className=\"flex items-center justify-between p-6 bg-gradient-to-r from-[#667eea]/5 to-[#764ba2]/5 rounded-2xl mb-8\">\r\n              <span className=\"text-base font-semibold text-[#64748b] uppercase tracking-wider\">\r\n                Total\r\n              </span>\r\n              <span className=\"font-['Playfair_Display'] text-[42px] font-black text-[#667eea]\">\r\n                ₹{(product.price * quantity).toFixed(2)}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Checkout Button */}\r\n            <button\r\n              onClick={handleCheckout}\r\n              disabled={orderLoading || orderSuccess}\r\n              className=\"w-full px-4 py-5 bg-gradient-to-r from-[#667eea] to-[#764ba2] text-white rounded-2xl text-lg font-bold flex items-center justify-center gap-3 transition-all duration-300 shadow-[0_8px_30px_rgba(102,126,234,0.4)] hover:-translate-y-1 hover:shadow-[0_12px_40px_rgba(102,126,234,0.5)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none tracking-wide\"\r\n            >\r\n              {orderLoading ? (\r\n                <>\r\n                  <span className=\"inline-block w-6 h-6 border-3 border-white/30 border-t-white rounded-full animate-spin\"></span>\r\n                  Processing...\r\n                </>\r\n              ) : orderSuccess ? (\r\n                <>\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                  >\r\n                    <polyline points=\"20 6 9 17 4 12\" />\r\n                  </svg>\r\n                  Order Placed!\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                  >\r\n                    <circle cx=\"9\" cy=\"21\" r=\"1\" />\r\n                    <circle cx=\"20\" cy=\"21\" r=\"1\" />\r\n                    <path d=\"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6\" />\r\n                  </svg>\r\n                  Pay with Razorpay\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}